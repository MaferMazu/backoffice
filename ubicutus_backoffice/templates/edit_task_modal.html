{% load static %}
{% load widget_tweaks %}
{% load bootstrap4 %}
<!--
    Template variables:
    form: a task edition form
    mtask: a task to be edited
-->

<div class="modal fade" id="medit{{mtask.id|stringformat:'i'}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
aria-hidden="true">
<div class="modal-dialog" role="document">
  <div class="modal-content w-100">
    <div class="modal-header">

        <!--Modal title-->
      <h5 class="modal-title text-primary" id="exampleModalLabel">
          <i class="fas fa-pen"></i>
          Editar Tarea   
      </h5>

      <!--Close button-->
      <button class="close" type="button" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">Ã—</span>
      </button>

    </div>

    <div class="modal-body w-100">
        
            
        <form class="user p-4" name="registerUser" id="{{ mtask.id|stringformat:'i' }}editTaskMod" novalidate method="POST">
            
            {% csrf_token %}
            {% for field in mform %}
              <div class="fieldWrapper">
                <div class="form-group floating-label-form-group-edit controls mb-0 pb-2">
                  {{ field.label_tag }} 
                  
                  {{ field |attr:"class:form-control"|attr:"placeholder:Information"|attr:"style: background-color: rgba(233, 229, 200, 0.5)" }}
                  
                  {% if field.help_text %}
                    <p class="help-block">{{ field.help_text|safe }}</p>
                  {% endif %}
                  <strong class="help-block text-danger">{{ field.errors }}</strong>
                </div>
              </div>
            {% endfor %}
            <br>
            <div class="form-group text-center">
              <button type="submit" class="btn btn-outline-al btn-xl">Save</button>
            </div>
            
          </form>
            
            
        </form>

    </div>

    <div class="modal-footer">

        <button class="btn btn-primary" type="button" data-dismiss="modal">Cerrar</button>

    </div>
    <!-- Bootstrap core JavaScript -->
    <script src="{% static  'vendor/jquery/jquery.min.js' %}"></script>
    
    <!--Custom scripts-->
        <!--Custom django viarable declarations-->
    <script> 
        var dataUrl = '{% url "editar_tarea" mtask.id%}';
        var formId  = "#{{ mtask.id|stringformat:'i' }}editTaskMod"
    </script>
    <script src="{% static 'js/editTaskModelForm.js' %}"></script>
  </div>
</div>
</div>