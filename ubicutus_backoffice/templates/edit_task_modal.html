{% load static %}
{% load widget_tweaks %}
{% load bootstrap4 %}
<!--
    Template variables:
    form: a task creation form
    taskId: task related to this form
-->

<div class="modal fade" id="taskEditModal{{ taskId }}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
aria-hidden="true">
<div class="modal-dialog" role="document">
    
  <div class="modal-content w-100">
    <div class="modal-header">

        <!--Modal title-->
      <h5 class="modal-title text-primary editTaskModal" id="exampleModalLabel">
          <i class="fas fa-pen"></i>
          Editar tarea   
      </h5>

      <!--Close button-->
      <button class="close" type="button" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">Ã—</span>
      </button>

    </div>

    <div class="modal-body w-100">
        
            soy el modal:  taskEditModal{{ taskId }}
        <form method="POST" class="edit-task-mod-form form{{taskId}}" id="taskEditForm{{taskId}}" data-submit="submitEdit{{taskid}}">
            mi id de form es taskEditForm{{taskId}}
            {% csrf_token %}
            {% for field in form %}
                <div class="fieldWrapper">
                <div class="form-group floating-label-form-group-edit controls mb-0 pb-2">
                    {{ field.label_tag }} 
                    
                    {{ field |attr:"class:form-control"|attr:"placeholder:Information"|attr:"style: background-color: rgba(233, 229, 200, 0.5)" }}
                    
                    {% if field.help_text %}
                    <p class="help-block">{{ field.help_text|safe }}</p>
                    {% endif %}
                    <strong class="help-block text-danger">{{ field.errors }}</strong>
                </div>
                </div>
            {% endfor %}
            <br>
            <div class="form-group text-center">
                <button type="button" class="btn btn-outline-al btn-xl submitEdit btn{{taskid}}" id="submitEdit{{taskid}}">Save</button>
            </div>
        </form>

    </div>

    <div class="modal-footer">

        <button class="btn btn-primary" type="button" data-dismiss="modal">Cerrar</button>

    </div>
    <!-- Bootstrap core JavaScript -->
    <script src="{% static  'vendor/jquery/jquery.min.js' %}"></script>
    <script>
        $(document).ready(function(){
            console.log("existo y mi id es: "+ '{{ taskId }}taskEditModal');
        });
    </script>
    <!--Custom scripts-->
        <!--Custom django viarable declarations-->
    <!--
    <script> var dataUrl = '{% url "registrar_tarea" %}';</script>
    <script src="{% static 'js/taskModelForm.js' %}"></script>
    -->
    <script src="{% static 'js/editTaskModelForm.js' %}"></script>

  </div>
</div>
</div>